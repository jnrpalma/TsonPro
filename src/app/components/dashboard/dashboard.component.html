<div class="dashboard">
  <div class="sidebar">
    <h2>Bem-vindo!</h2>
    <div class="user-info">
      <po-avatar
        [p-src]="profileImage"
        p-size="sm"
        (p-click)="openPhotoModal()"
      ></po-avatar>
      <p>{{ userName }}</p>
    </div>
    <ul>
      <li>
        <po-button
          p-label="Overview"
          p-kind="tertiary"
          p-icon="ph-fill ph-chart-bar-horizontal"
          (p-click)="navigateTo('overview')"
        ></po-button>
      </li>
      <li>
        <po-button
          p-label="Cadastrar"
          p-kind="tertiary"
          p-icon="ph-fill ph-plus-circle"
          (p-click)="navigateTo('cadastrar')"
        ></po-button>
      </li>
      <li>
        <po-button
          p-label="Animais"
          p-kind="tertiary"
          p-icon="ph-fill ph-paw-print"
          (p-click)="navigateTo('animais')"
        ></po-button>
      </li>
      <li>
        <po-button
          p-label="Lotes"
          p-kind="tertiary"
          p-icon="ph-fill ph-shipping-container"
          (p-click)="navigateTo('lotes')"
        ></po-button>
      </li>
      <li>
        <po-button
          p-label="Vacinação"
          p-kind="tertiary"
          p-icon="ph-fill ph-list-heart"
          (p-click)="navigateTo('vacinacao')"
        ></po-button>
      </li>
      <li>
        <po-button
          p-label="Mortes"
          p-kind="tertiary"
          p-icon="ph-fill ph-ghost"
          (p-click)="navigateTo('mortes')"
        ></po-button>
      </li>
      <li>
        <po-button
          p-label="Maternidade"
          p-kind="tertiary"
          p-icon="ph-fill ph-baby-carriage"
          (p-click)="navigateTo('maternidade')"
        ></po-button>
      </li>
      <li>
        <po-button
          p-label="Enfermaria"
          p-kind="tertiary"
          p-icon="ph-fill ph-first-aid"
          (p-click)="navigateTo('enfermaria')"
        ></po-button>
      </li>
    </ul>
  </div>

  <div class="main">
    <header class="header">
      <h2>TsonPro</h2>
      <po-button
        p-label="Sair"
        p-kind="primary"
        p-danger="true"
        (p-click)="openModal()"
        class="logout-button"
      ></po-button>
    </header>

    <div class="content">
      <router-outlet></router-outlet>
    </div>

    <!-- aqui modal para sair -->
    <po-modal
      #confirmExitModal
      p-title="Confirmação"
      p-size="sm"
      (p-close)="closeModal()"
    >
      <p>Tem certeza de que deseja sair?</p>
      <po-modal-footer>
        <po-button
          p-label="Cancelar"
          p-kind="default"
          (p-click)="closeModal()"
        ></po-button>
        <po-button
          p-label="Sair"
          p-kind="primary"
          p-danger="true"
          (p-click)="confirmLogout()"
        ></po-button>
      </po-modal-footer>
    </po-modal>

    <!-- aqui modal para troca de foto -->
    <po-modal
      #photoModal
      p-title="Alterar Foto de Perfil"
      p-size="sm"
      (p-close)="closePhotoModal()"
    >
      <div>
        <label for="photoUpload">Selecione uma nova foto:</label>
        <input
          id="photoUpload"
          type="file"
          (change)="onPhotoSelected($event)"
          accept="image/*"
        />
      </div>
      <po-modal-footer>
        <po-button
          p-label="Cancelar"
          p-kind="default"
          (p-click)="closePhotoModal()"
        ></po-button>
        <po-button
          p-label="Salvar"
          p-kind="primary"
          (p-click)="savePhoto()"
        ></po-button>
      </po-modal-footer>
    </po-modal>
  </div>
</div>
