<div *ngIf="isLoading" style="position: relative;">
  <po-loading-overlay [p-screen-lock]="true" p-text="Carregando..."></po-loading-overlay>
</div>

<div *ngIf="batches.length && !isLoading" style="margin-top: 20px;">
  <h3>Lotes Cadastrados</h3>
  <po-list-view 
    p-property-title="nomeLote" 
    [p-items]="batches"
    [p-actions]="actions">
    
    <ng-template p-list-view-content-template let-item>
      <div class="po-row">
        <po-info class="po-md-12" p-label="Categoria" [p-value]="item.categoria"></po-info>
        <po-info class="po-md-12" p-label="Animais" [p-value]="item.animais.length"></po-info>
      </div>
    </ng-template>
  </po-list-view>
</div>

<!-- Modal de Confirmação -->
<po-modal #poModal p-title="Confirmação de Exclusão">
  <p>Tem certeza de que deseja excluir este lote?</p>
  <po-modal-footer>
    <po-button p-label="Cancelar" p-kind="default" (p-click)="poModal.close()"></po-button>
    <po-button p-label="Excluir" p-kind="danger" (p-click)="deleteBatch()"></po-button>
  </po-modal-footer>
</po-modal>

<!-- Tabela de Animais do Lote -->
<div *ngIf="showAnimals && selectedBatchAnimals.length > 0" style="margin-top: 20px;">
  <h3>Animais no Lote</h3>
  <po-table 
    [p-columns]="columns" 
    [p-items]="selectedBatchAnimals"
    [p-height]="350">
  </po-table>
</div>
